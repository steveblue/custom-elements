const html=(...t)=>t,css=(...t)=>t,noop=()=>{};class EventDispatcher{constructor(t){this.target=t,this.channels={default:new BroadcastChannel("default")},this.events={}}get(t){return this.events[t]}set(t,n){return this.events[t]=n,this.get(t)}emit(t){"string"==typeof t&&(t=this.events[t]),this.target.dispatchEvent(t)}broadcast(t,n){"string"==typeof t&&(t=this.events[t]),this.target.dispatchEvent(t),null===(t={type:t.type,detail:t.detail}).detail&&delete t.detail,n?this.channels[n].postMessage(t):this.channels.default.postMessage(t)}setChannel(t){this.channels[t]=new BroadcastChannel(t)}removeChannel(t){this.channels[t].close(),delete this.channels[t]}}function compileTemplate(t,n){n.prototype.elementMeta=Object.assign({},t),n.prototype.elementMeta.eventMap={},n.prototype.template=document.createElement("template"),n.prototype.template=`<style>${t.style}</style>${t.template}`,n.prototype.getEvent=function(t){return this.elementMeta.events[t]},n.prototype.setEvent=function(t,n){return this.elementMeta.events[t]=n}}function Component(t){if(t)return n=>(compileTemplate(t,n),n);console.error("Component must include ElementMeta to compile")}function Emitter(t,n){return function(e,o,s){const{onInit:i=noop}=e;e.onInit=function(){i.call(this),function(){this.emitter||(this.emitter=new EventDispatcher(this)),this.emitter.set(t,new CustomEvent(t,n||{}))}.call(this)}}}function Listen(t,n){return function(e,o,s){const{onInit:i=noop,onDestroy:c=noop}=e,a=Symbol(o);e.onInit=function(){i.call(this),function(){const e=this[a]=((...t)=>{s.value.apply(this,t)});this.emitter||(this.emitter=new EventDispatcher(this),n&&(this.elementMeta.eventMap[t]={key:t,handler:o},this.emitter.channels[n].onmessage=(n=>{this[this.elementMeta.eventMap[t].handler](n.data)}))),this.addEventListener(t,e)}.call(this)},e.onDestroy=function(){c.call(this),function(){this.removeEventListener(t,this[a])}.call(this)}}}function attachShadow(t,n){const e=t.attachShadow(n||{}),o=document.createElement("template");o.innerHTML=t.template,e.appendChild(o.content.cloneNode(!0))}function attachDOM(t,n){const e=document.createElement("template");e.innerHTML=t.elementMeta.template,t.appendChild(e.content.cloneNode(!0))}function attachStyle(t,n){const e=`${t.elementMeta.selector}`;if(!document.getElementById(`${e}-x`)){const n=document.createElement("style");n.setAttribute("id",`${e}-x`),n.innerText=t.elementMeta.style,n.innerText=n.innerText.replace(/:host/gi,`[is=${e}]`),document.head.appendChild(n)}}function getParent(t){return t.parentNode}function querySelector(t){return document.querySelector(t)}function querySelectorAll(t){return Array.from(document.querySelectorAll(t))}function getSiblings(t,n){return n||(n=[]),Array.from(getParent(t).children).filter(t=>"TEXT"!==t.tagName&&"STYLE"!==t.tagName)}function getElementIndex(t){return getSiblings(t).indexOf(t)}class Element extends HTMLElement{constructor(){super(),attachDOM(this),attachStyle(this),this.onInit&&this.onInit()}}class CustomElement extends HTMLElement{constructor(){super(),attachShadow(this,{mode:"open"}),this.onInit&&this.onInit()}}class AllCollectionComponent extends HTMLAllCollection{constructor(){super(),this.onInit&&this.onInit()}}class AnchorComponent extends HTMLAnchorElement{constructor(){super(),attachDOM(this),attachStyle(this),this.onInit&&this.onInit()}}class AreaComponent extends HTMLAreaElement{constructor(){super(),attachStyle(this),this.onInit&&this.onInit()}}class AudioComponent extends HTMLAudioElement{constructor(){super(),attachStyle(this),this.onInit&&this.onInit()}}class BRComponent extends HTMLBRElement{constructor(){super(),attachStyle(this),this.onInit&&this.onInit()}}class BodyComponent extends HTMLBodyElement{constructor(){super(),attachShadow(this,{mode:"open"}),this.onInit&&this.onInit()}}class ButtonComponent extends HTMLButtonElement{constructor(){super(),attachDOM(this),attachStyle(this),this.onInit&&this.onInit()}}class CanvasComponent extends HTMLCanvasElement{constructor(){super(),attachStyle(this),this.onInit&&this.onInit()}}class CollectionComponent extends HTMLCollection{constructor(){super(),this.onInit&&this.onInit()}}class ContentComponent extends HTMLContentElement{constructor(){super(),this.onInit&&this.onInit()}}class DListComponent extends HTMLDListElement{constructor(){super(),attachDOM(this),attachStyle(this),this.onInit&&this.onInit()}}class DataComponent extends HTMLDataElement{constructor(){super(),this.onInit&&this.onInit()}}class DataListComponent extends HTMLDataListElement{constructor(){super(),attachDOM(this),attachStyle(this),this.onInit&&this.onInit()}}class DetailsComponent extends HTMLDetailsElement{constructor(){super(),attachDOM(this),attachStyle(this),this.onInit&&this.onInit()}}class DialogComponent extends HTMLDialogElement{constructor(){super(),attachDOM(this),attachStyle(this),this.onInit&&this.onInit()}}class DivComponent extends HTMLDivElement{constructor(){super(),attachShadow(this,{mode:"open"}),this.onInit&&this.onInit()}}class EmbedComponent extends HTMLEmbedElement{constructor(){super(),attachStyle(this),this.onInit&&this.onInit()}}class FieldSetComponent extends HTMLFieldSetElement{constructor(){super(),attachStyle(this),this.onInit&&this.onInit()}}class FormControlsComponent extends HTMLFormControlsCollection{constructor(){super(),this.onInit&&this.onInit()}}class FormComponent extends HTMLFormElement{constructor(){super(),attachStyle(this),this.onInit&&this.onInit()}}class HRComponent extends HTMLHRElement{constructor(){super(),attachStyle(this),this.onInit&&this.onInit()}}class HeadComponent extends HTMLHeadElement{constructor(){super(),this.onInit&&this.onInit()}}class HeadingComponent extends HTMLHeadingElement{constructor(){super(),attachShadow(this,{mode:"open"}),this.onInit&&this.onInit()}}class HtmlComponent extends HTMLHtmlElement{constructor(){super(),this.onInit&&this.onInit()}}class IFrameComponent extends HTMLIFrameElement{constructor(){super(),attachStyle(this),this.onInit&&this.onInit()}}class ImageComponent extends HTMLImageElement{constructor(){super(),attachStyle(this),this.onInit&&this.onInit()}}class InputComponent extends HTMLInputElement{constructor(){super(),attachStyle(this),this.onInit&&this.onInit()}}class LIComponent extends HTMLLIElement{constructor(){super(),attachDOM(this),attachStyle(this),this.onInit&&this.onInit()}}class LabelComponent extends HTMLLabelElement{constructor(){super(),attachDOM(this),attachStyle(this),this.onInit&&this.onInit()}}class LegendComponent extends HTMLLegendElement{constructor(){super(),attachStyle(this),this.onInit&&this.onInit()}}class LinkComponent extends HTMLLinkElement{constructor(){super(),attachStyle(this),this.onInit&&this.onInit()}}class MapComponent extends HTMLMapElement{constructor(){super(),attachDOM(this),attachStyle(this),this.onInit&&this.onInit()}}class MediaComponent extends HTMLMediaElement{constructor(){super(),this.onInit&&this.onInit()}}class MenuComponent extends HTMLMenuElement{constructor(){super(),this.onInit&&this.onInit()}}class MetaComponent extends HTMLMetaElement{constructor(){super(),this.onInit&&this.onInit()}}class MeterComponent extends HTMLMeterElement{constructor(){super(),attachStyle(this),this.onInit&&this.onInit()}}class ModComponent extends HTMLModElement{constructor(){super(),this.onInit&&this.onInit()}}class OListComponent extends HTMLOListElement{constructor(){super(),attachDOM(this),attachStyle(this),this.onInit&&this.onInit()}}class ObjectComponent extends HTMLObjectElement{constructor(){super(),attachStyle(this),this.onInit&&this.onInit()}}class OptGroupComponent extends HTMLOptGroupElement{constructor(){super(),this.onInit&&this.onInit()}}class OptionComponent extends HTMLOptionElement{constructor(){super(),this.onInit&&this.onInit()}}class OptionsCollectionComponent extends HTMLOptionsCollection{constructor(){super(),this.onInit&&this.onInit()}}class OutputComponent extends HTMLOutputElement{constructor(){super(),attachStyle(this),this.onInit&&this.onInit()}}class ParagraphComponent extends HTMLParagraphElement{constructor(){super(),attachShadow(this,{mode:"open"}),this.onInit&&this.onInit()}}class ParamComponent extends HTMLParamElement{constructor(){super(),this.onInit&&this.onInit()}}class PictureComponent extends HTMLPictureElement{constructor(){super(),this.onInit&&this.onInit()}}class PreComponent extends HTMLPreElement{constructor(){super(),this.onInit&&this.onInit()}}class ProgressComponent extends HTMLProgressElement{constructor(){super(),this.onInit&&this.onInit()}}class QuoteComponent extends HTMLQuoteElement{constructor(){super(),this.onInit&&this.onInit()}}class ScriptComponent extends HTMLScriptElement{constructor(){super(),this.onInit&&this.onInit()}}class SelectComponent extends HTMLSelectElement{constructor(){super(),this.onInit&&this.onInit()}}class ShadowComponent extends HTMLShadowElement{constructor(){super(),this.onInit&&this.onInit()}}class SlotComponent extends HTMLSlotElement{constructor(){super(),this.onInit&&this.onInit()}}class SourceComponent extends HTMLSourceElement{constructor(){super(),this.onInit&&this.onInit()}}class SpanComponent extends HTMLSpanElement{constructor(){super(),attachShadow(this,{mode:"open"}),this.onInit&&this.onInit()}}class StyleComponent extends HTMLStyleElement{constructor(){super(),this.onInit&&this.onInit()}}class TableCaptionComponent extends HTMLTableCaptionElement{constructor(){super(),this.onInit&&this.onInit()}}class TableCellComponent extends HTMLTableCellElement{constructor(){super(),this.onInit&&this.onInit()}}class TableColComponent extends HTMLTableColElement{constructor(){super(),this.onInit&&this.onInit()}}class TableComponent extends HTMLTableElement{constructor(){super(),attachDOM(this),attachStyle(this),this.onInit&&this.onInit()}}class TableRowComponent extends HTMLTableRowElement{constructor(){super(),attachDOM(this),attachStyle(this),this.onInit&&this.onInit()}}class TableSectionComponent extends HTMLTableSectionElement{constructor(){super(),attachDOM(this),attachStyle(this),this.onInit&&this.onInit()}}class TemplateComponent extends HTMLTemplateElement{constructor(){super(),this.onInit&&this.onInit()}}class TimeComponent extends HTMLTimeElement{constructor(){super(),attachStyle(this),this.onInit&&this.onInit()}}class TitleComponent extends HTMLTitleElement{constructor(){super(),this.onInit&&this.onInit()}}class TrackComponent extends HTMLTrackElement{constructor(){super(),this.onInit&&this.onInit()}}class UListComponent extends HTMLUListElement{constructor(){super(),attachDOM(this),attachStyle(this),this.onInit&&this.onInit()}}class UnknownComponent extends HTMLUnknownElement{constructor(){super(),this.onInit&&this.onInit()}}class VideoComponent extends HTMLVideoElement{constructor(){super(),attachStyle(this),this.onInit&&this.onInit()}}export{EventDispatcher,Component,Emitter,Listen,compileTemplate,html,css,noop,Element,CustomElement,AllCollectionComponent,AnchorComponent,AreaComponent,AudioComponent,BRComponent,BodyComponent,ButtonComponent,CanvasComponent,CollectionComponent,ContentComponent,DListComponent,DataComponent,DataListComponent,DetailsComponent,DialogComponent,DivComponent,EmbedComponent,FieldSetComponent,FormControlsComponent,FormComponent,HRComponent,HeadComponent,HeadingComponent,HtmlComponent,IFrameComponent,ImageComponent,InputComponent,LIComponent,LabelComponent,LegendComponent,LinkComponent,MapComponent,MediaComponent,MenuComponent,MetaComponent,MeterComponent,ModComponent,OListComponent,ObjectComponent,OptGroupComponent,OptionComponent,OptionsCollectionComponent,OutputComponent,ParagraphComponent,ParamComponent,PictureComponent,PreComponent,ProgressComponent,QuoteComponent,ScriptComponent,SelectComponent,ShadowComponent,SlotComponent,SourceComponent,SpanComponent,StyleComponent,TableCaptionComponent,TableCellComponent,TableColComponent,TableComponent,TableRowComponent,TableSectionComponent,TemplateComponent,TimeComponent,TitleComponent,TrackComponent,UListComponent,UnknownComponent,VideoComponent,attachDOM,attachStyle,attachShadow,getSiblings,getElementIndex,getParent,querySelector,querySelectorAll};
//# sourceMappingURL=core.min.js.map
